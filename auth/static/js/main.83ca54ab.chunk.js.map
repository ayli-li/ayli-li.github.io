{"version":3,"sources":["store/auth/constants.js","axiosConfig.js","constants.js","store/auth/action.js","components/AuthPage/AuthPageStyled.js","AppStyled.js","components/AuthPage/AuthPage.jsx","store/users/constants.js","store/users/action.js","components/UsersPage/UsersPageStyled.js","components/UsersPage/UsersPage.jsx","App.js","utils/createReducer.js","store/store.js","store/auth/reducer.js","store/users/reducer.js","store/rootReducer.js","index.js"],"names":["SET_TOKEN","axios","create","baseURL","setToken","token","defaults","headers","Authorization","type","AuthPageStyled","styled","div","AuthenticateFormStyled","form","AuthFormLabel","label","Btn","button","props","logout","sortById","signIn","FormInput","input","password","ErrorDiv","login","AuthPage","useState","setLogin","setPassword","loginVisited","setLoginVisited","passwordVisited","setPasswordVisited","loginError","setLoginError","passwordError","setPasswordError","isFormValid","setIsFormValid","dispatch","useDispatch","history","useHistory","useEffect","blurHandler","e","target","name","htmlFor","style","color","onChange","value","test","String","toLowerCase","length","loginHandler","onBlur","placeholder","id","passwordHandler","onClick","preventDefault","a","post","username","res","console","log","data","localStorage","setItem","getToken","push","disabled","SET_USERS_DATA","FILTER_USERS_BY_NAME","SORT_USERS_BY_ID","setUsers","users","filterUsersByName","sortUsersById","UsersPageStyled","UsersPageForm","UsersList","ul","UsersItem","li","UsersPage","useSelector","state","usersData","filteredUsers","inputValue","setInputValue","isInputVisited","setIsInputVisited","get","removeItem","handleInputValue","filterUsers","sortUsers","map","user","PrivateRoute","Component","component","rest","render","to","App","auth","storageToken","getItem","exact","path","createReducer","preloadedState","strategyMap","initialState","action","undefined","authReducer","usersReducer","filter","includes","sort","b","rootReducer","combineReducers","composeEnhancers","compose","store","createStore","applyMiddleware","thunk","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.83ca54ab.chunk.js","sourcesContent":["export const SET_TOKEN = 'GET_TOKEN';","import axios from 'axios';\r\nimport { API_URL } from './constants';\r\n\r\nexport default axios.create({ baseURL: API_URL });","export const API_URL = 'https://emphasoft-test-assignment.herokuapp.com';","import {\r\n  SET_TOKEN\r\n} from './constants';\r\nimport axios from '../../axiosConfig';\r\n\r\nexport const getToken = (login, password) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(`/api-token-auth/`, { username: login, password: password } );\r\n    console.log(res);\r\n    const token = res.data.token;\r\n    \r\n    localStorage.setItem('auth-token', token);\r\n    dispatch(setToken(token));\r\n  }\r\n\r\n  catch (err) {\r\n    console.log('err', err);\r\n  }\r\n};\r\n\r\nexport const setToken = (token) => {\r\n  axios.defaults.headers.Authorization = `Token ${token}`;\r\n\r\n  return ({\r\n    type: SET_TOKEN,\r\n    token\r\n  });\r\n};\r\n\r\nexport const logOut = () => (dispatch) => {\r\n  dispatch(setToken(''));\r\n  localStorage.removeItem('auth-token');\r\n  delete axios.defaults.headers.Authorization;\r\n};","import styled from 'styled-components';\r\n\r\nexport const AuthPageStyled = styled.div`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nexport const AuthenticateFormStyled = styled.form`\r\n  display: flex;\r\n  flex-flow: column nowrap;  \r\n  position: relative;\r\n`;\r\n\r\nexport const AuthFormLabel = styled.label`\r\n  margin-bottom: 18px;\r\n  margin-top: 5px;\r\n  text-align: center;\r\n  color: white;\r\n`;","import styled from 'styled-components';\n\nexport const Btn = styled.button`\n  width: 90px;\n  background-color: #26EE6C;\n  padding: 5px;\n  border: 1px solid #ACB898;\n  border-radius: 3px;\n  transition: 0.5s;\n  cursor: pointer;  \n  color: white;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n\n  &:hover {        \n    background-color: #1BF1E8;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  background-color: ${props => props.logout ? '#FF4040' : '#26EE6C'};\n  margin-left: ${props => props.logout ? 'auto' : '0'};\n  margin: ${props => props.sortById || props.signIn ? '0 auto' : ''};\n  \n`;\n\nexport const FormInput = styled.input`\n  max-width: 176px;\n  width: 100%;\n  margin-right: 20px;\n  padding: 5px;\n\n  margin-bottom: ${props => props.password ? '15px' : '0'};\n`;\n\nexport const ErrorDiv = styled.div`\n  position: absolute;\n  font-size: 13px;\n  top: ${props => props.login ? '25px' : '100px'};\n`;","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { getToken } from '../../store/auth/action';\r\n\r\nimport { AuthPageStyled, AuthenticateFormStyled, AuthFormLabel } from './AuthPageStyled';\r\nimport { Btn, FormInput, ErrorDiv } from '../../AppStyled.js';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport const AuthPage = () => {\r\n\r\n  const [login, setLogin] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [loginVisited, setLoginVisited] = useState(false);\r\n  const [passwordVisited, setPasswordVisited] = useState(false);\r\n  const [loginError, setLoginError] = useState('Login can\\'t be empty');\r\n  const [passwordError, setPasswordError] = useState('Password can\\'t be empty');\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n  \r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect( () => {\r\n    (loginError || passwordError) ? setIsFormValid(false) : setIsFormValid(true);\r\n\r\n  }, [loginError, passwordError]);\r\n\r\n  const loginHandler = (e) => {\r\n    setLogin(e.target.value);\r\n    const re = /^[\\w.@+-]+$/;\r\n    if (!re.test(String(e.target.value).toLowerCase()) || e.target.value.length > 150) {\r\n      setLoginError('Incorrect login');\r\n    } else {\r\n      setLoginError('');\r\n    }\r\n  }\r\n\r\n  const passwordHandler = (e) => {\r\n    setPassword(e.target.value);\r\n    !e.target.value ? setPasswordError('Password can\\'t be empty') : setPasswordError('');\r\n  }\r\n\r\n  const blurHandler = (e) => {\r\n    if (e.target.name === 'login') {\r\n      setLoginVisited(true);\r\n    }\r\n\r\n    if (e.target.name === 'password') {\r\n      setPasswordVisited(true);\r\n    }\r\n  }\r\n\r\n  const signIn = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (isFormValid) {\r\n      dispatch(getToken(login, password));\r\n      history.push('/users');\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AuthPageStyled>\r\n      <AuthenticateFormStyled>        \r\n        <AuthFormLabel htmlFor='login_input'>Login</AuthFormLabel>\r\n\r\n        {(loginVisited && loginError) && <ErrorDiv login style={{color:'red'}} >{loginError}</ErrorDiv>}\r\n\r\n        <FormInput onChange={(e) => loginHandler(e)} value={login} onBlur={(e) => blurHandler(e)} name='login' type='text' placeholder='Login' id='login_input' />\r\n\r\n        <AuthFormLabel htmlFor='password_input'>Password</AuthFormLabel>\r\n\r\n        {(passwordVisited && passwordError) && <ErrorDiv style={{color:'red'}} >{passwordError}</ErrorDiv>}\r\n\r\n        <FormInput password onChange={(e) => passwordHandler(e)} value={password} onBlur={(e) => blurHandler(e)} name='password' type='password' placeholder='Password' id='password_input' />\r\n\r\n        <Btn signIn onClick={signIn} disabled={!isFormValid} type='submit'>Log In</Btn>\r\n      </AuthenticateFormStyled>\r\n    </AuthPageStyled>\r\n  );\r\n}","export const SET_USERS_DATA = 'SET_USERS_DATA';\r\nexport const FILTER_USERS_BY_NAME = 'FILTER_USERS_BY_NAME';\r\nexport const SORT_USERS_BY_ID = 'SORT_USERS_BY_ID';","import {\r\n  SET_USERS_DATA,\r\n  FILTER_USERS_BY_NAME,\r\n  SORT_USERS_BY_ID\r\n} from './constants';\r\nimport axios from '../../axiosConfig';\r\n\r\nexport const getUsersData = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get('/api/v1/users/');\r\n    const users = res.data;\r\n    \r\n    dispatch(setUsers(users));\r\n  }\r\n  catch (e) {\r\n    console.log('err', e);\r\n  }\r\n};\r\n\r\nconst setUsers = (users) => ({\r\n  type: SET_USERS_DATA,\r\n  users\r\n});\r\n\r\nexport const filterUsersByName = (value) => ({\r\n  type: FILTER_USERS_BY_NAME,\r\n  value\r\n});\r\n\r\nexport const sortUsersById = () => ({\r\n  type: SORT_USERS_BY_ID\r\n})","import styled from 'styled-components';\r\n\r\nexport const UsersPageStyled = styled.div`\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  margin: 0 auto;\r\n  padding: 10px;  \r\n  max-width: 768px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  color: white;\r\n\r\n  @media (max-width: 768px) {\r\n    max-width: 320px;\r\n  }\r\n`;\r\n\r\nexport const UsersPageForm = styled.form`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 10px 0;\r\n`;\r\n\r\nexport const UsersList = styled.ul`\r\n  list-style: none;\r\n  margin: 0 auto;\r\n  max-width: 320px;\r\n  width: 100%;\r\n  padding: 0;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  justify-content: center;\r\n  align-items: center;  \r\n`;\r\n\r\nexport const UsersItem = styled.li`\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n`;","import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { logOut } from '../../store/auth/action';\r\nimport { getUsersData, filterUsersByName, sortUsersById } from '../../store/users/action';\r\n\r\nimport { UsersPageStyled, UsersPageForm, UsersList, UsersItem } from './UsersPageStyled';\r\nimport { Btn, FormInput } from '../../AppStyled.js';\r\n\r\nexport const UsersPage = () => {\r\n  \r\n  const users = useSelector(state => state.usersData.users);\r\n  const filteredUsers = useSelector(state => state.usersData.filteredUsers);\r\n\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [isInputVisited, setIsInputVisited] = useState(false);\r\n\r\n  const dispatch = useDispatch();  \r\n\r\n  useEffect( () => {\r\n    dispatch(getUsersData());\r\n  });\r\n\r\n  const logout = () => {\r\n    dispatch(logOut());\r\n  };\r\n\r\n  const handleInputValue = (e) => {\r\n    e.preventDefault();\r\n\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  const filterUsers = (e) => {\r\n    e.preventDefault();\r\n    setIsInputVisited(true);\r\n\r\n    if (inputValue) {\r\n      dispatch(filterUsersByName(inputValue));\r\n    } else {\r\n      return dispatch(filterUsersByName(''));\r\n    }\r\n  };\r\n\r\n  const sortUsers = (e) => {\r\n    e.preventDefault();   \r\n\r\n    if (filteredUsers.length === 0) {\r\n      dispatch(filterUsersByName(''));\r\n      dispatch(sortUsersById());\r\n    } else {\r\n      dispatch(sortUsersById());\r\n    }    \r\n    \r\n  };\r\n\r\n  return (\r\n    <UsersPageStyled>\r\n\r\n      <Btn logout onClick={logout}>Logout</Btn>\r\n\r\n      <UsersPageForm>\r\n        <FormInput type='text' placeholder='Find name' onChange={(e) => handleInputValue(e)}/>\r\n        <Btn onClick={(e) => filterUsers(e)}>Find user</Btn>        \r\n      </UsersPageForm> \r\n\r\n      <Btn sortById onClick={(e) => sortUsers(e)}>Sort by Id</Btn>\r\n\r\n      <UsersList>\r\n        {(filteredUsers.length || isInputVisited) ? filteredUsers.map(user => {\r\n          return <UsersItem key={user.id}>\r\n            <div>{user.id}</div>\r\n            <div>{user.username}</div>\r\n          </UsersItem>\r\n          }) : users.map(user => {\r\n          return <UsersItem key={user.id}>\r\n            <div>{user.id}</div>\r\n            <div>{user.username}</div>\r\n          </UsersItem>\r\n          })\r\n        }\r\n      </UsersList>\r\n           \r\n    </UsersPageStyled>\r\n  );\r\n}","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\n\nimport { AuthPage } from './components/AuthPage/AuthPage';\nimport { UsersPage } from './components/UsersPage/UsersPage';\nimport { setToken } from './store/auth/action';\n\nconst PrivateRoute = ({ component: Component, token, ...rest }) => {\n  \n  return (   \n    <Route\n      {...rest}\n      render={props => (token ? <Component {...props} /> : <Redirect to=\"/\" />) }\n    />\n)};\n\nconst App = () => {  \n\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const token = useSelector(state => state.auth.token);\n  const storageToken = localStorage.getItem('auth-token');\n\n  useEffect(() => {\n    if (storageToken) {\n      dispatch(setToken(storageToken));\n      history.push('/users');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (token) {\n      history.push('/users');\n    }\n  }, [token]);\n\n\n  return (\n    <Switch>\n      <Route exact path='/' component={AuthPage} />\n      <PrivateRoute token={token} path='/users' component={UsersPage} />\n    </Switch>\n  )\n}\n\nexport default App;\n","const defaultStrategy = state => state;\r\n\r\nfunction createReducer(strategyMap, initialState) {\r\n  return (state = initialState, action) => (strategyMap[action.type] !== undefined\r\n    ? strategyMap[action.type](state, action)\r\n    : defaultStrategy(state, action));\r\n}\r\n\r\nexport default createReducer;","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport rootReducer from './rootReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst composeEnhancers =\r\n  process.env.NODE_ENV !== 'production' &&\r\n  typeof window === 'object' &&\r\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\r\n\r\nconst configureStore = preloadedState => (\r\n  createStore(\r\n    rootReducer,\r\n    preloadedState,\r\n    composeEnhancers(\r\n      applyMiddleware(thunk)\r\n    ),\r\n  )\r\n);\r\n\r\nconst store = configureStore({});\r\n\r\nexport default store;","import createReducer from \"../../utils/createReducer\";\r\nimport {\r\n  SET_TOKEN\r\n} from \"./constants\";\r\n\r\nconst initialState = {\r\n  token: '',\r\n};\r\n\r\nconst setToken = (state, { token }) => ({\r\n  ...state,\r\n  token\r\n});\r\n\r\nconst strategyMap = {\r\n  [SET_TOKEN]: setToken,\r\n};\r\n\r\nconst authReducer = createReducer(strategyMap, initialState);\r\n\r\nexport default authReducer;","import createReducer from \"../../utils/createReducer\";\r\nimport {\r\n  SET_USERS_DATA,\r\n  FILTER_USERS_BY_NAME,\r\n  SORT_USERS_BY_ID\r\n} from \"./constants\";\r\n\r\nconst initialState = {\r\n  users: [],\r\n  filteredUsers: []\r\n};\r\n\r\nconst setUsers = (state, { users }) => ({\r\n  ...state,\r\n  users\r\n});\r\n\r\nconst filterUsersByName = (state, { value }) => ({\r\n  ...state,\r\n  filteredUsers: [...state.users.filter(({ username }) => username.toLowerCase().includes(value.toLowerCase() ))] \r\n});\r\n\r\nconst sortUsersById = (state) => ({\r\n  ...state,\r\n  filteredUsers: [...state.filteredUsers.sort((a, b) => a.id - b.id)]\r\n});\r\n\r\nconst strategyMap = {\r\n  [SET_USERS_DATA]: setUsers,\r\n  [FILTER_USERS_BY_NAME]: filterUsersByName,\r\n  [SORT_USERS_BY_ID]: sortUsersById\r\n};\r\n\r\nconst usersReducer = createReducer(strategyMap, initialState);\r\n\r\nexport default usersReducer;","import { combineReducers } from 'redux';\r\nimport authReducer from './auth/reducer';\r\nimport usersReducer from './users/reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  usersData: usersReducer\r\n });\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\nimport { HashRouter } from 'react-router-dom';\n\nReactDOM.render((\n  <HashRouter basename='/'>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>\n), document.getElementById('root'));\n"],"sourceRoot":""}